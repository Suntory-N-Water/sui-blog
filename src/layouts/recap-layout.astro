---
import '@/styles/globals.css';
import { siteConfig } from '@/config/site';
import { absoluteUrl } from '@/lib/utils';

type Props = {
  title?: string;
  description?: string;
  ogImage?: string;
  url?: string;
};

const {
  title = `Recap | ${siteConfig.name}`,
  description = 'A look back at the code and stories.',
  ogImage,
  url,
} = Astro.props;

const canonicalUrl = url || absoluteUrl(Astro.url.pathname);
---

<!doctype html>
<html lang='ja' class='scroll-smooth'>
  <head>
    <meta charset='UTF-8' />
    <meta name='viewport' content='width=device-width' />
    <link rel='icon' type='image/x-icon' href='/favicon.ico' />
    <meta name='generator' content={Astro.generator} />

    <title>{title}</title>
    <meta name='description' content={description} />
    <link rel='canonical' href={canonicalUrl} />

    <!-- Open Graph -->
    <meta property='og:type' content='article' />
    <meta property='og:url' content={canonicalUrl} />
    <meta property='og:title' content={title} />
    <meta property='og:description' content={description} />
    {ogImage && <meta property='og:image' content={ogImage} />}

    <!-- Twitter -->
    <meta property='twitter:card' content='summary_large_image' />
    <meta property='twitter:url' content={canonicalUrl} />
    <meta property='twitter:title' content={title} />
    <meta property='twitter:description' content={description} />
    {ogImage && <meta property='twitter:image' content={ogImage} />}

    <style>
      @import 'tailwindcss';

      body {
        background-color: #ffffff;
        color: #1a1a1a;
        font-family: 'Inter', sans-serif;
        overflow-x: hidden;
      }
    </style>
    <slot name='head' />
  </head>
  <body class='antialiased selection:bg-black/10'>
    <a
      href='#main-content'
      class='sr-only focus:not-sr-only focus:fixed focus:top-4 focus:left-4 focus:z-50 focus:rounded-md focus:bg-white focus:px-4 focus:py-2 focus:text-sm focus:font-medium focus:shadow-lg'
    >
      メインコンテンツへスキップ
    </a>
    <main id='main-content'>
      <slot />
    </main>
  </body>
</html>
